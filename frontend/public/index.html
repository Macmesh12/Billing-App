<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recents | Billing App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/general.css">
    <link rel="stylesheet" href="../static/css/home.css">
    <script>
        // In production the app will be served by the backend, so default
        // the API base to the current origin. This avoids hardcoding a
        // development-only URL.
        window.BILLING_APP_CONFIG = {
            apiBaseUrl: (window.location && window.location.protocol === 'http:' && window.location.port === '8765') ? window.location.origin : "http://127.0.0.1:8765"
        };
    </script>
</head>
<body class="billing-app">
    <header class="app-header">
        <div class="app-brand">
            <h1>Billing App</h1>
        </div>
        <nav class="app-nav" aria-label="Primary">
        <a class="nav-link" href="index.html">Recents</a>
            <a class="nav-link" href="invoice.html">Invoice</a>
            <a class="nav-link" href="receipt.html">Receipt</a>
            <a class="nav-link" href="waybill.html">Waybill</a>
        </nav>
    </header>

    <main class="app-main">
        <section class="recent-hero">
            <div class="recent-hero-header">
                <div class="recent-hero-title">
                    <h2>Recents</h2>
                </div>

                <div class="recent-hero-actions">
                    <div class="recent-controls" role="group" aria-label="Project actions">
                        <!-- import button moved to the recent-controls block below -->
                    </div>
                </div>
            </div>

            <div id="project-status" class="project-status" role="status" aria-live="polite"></div>
        </section>

        <!-- Recent controls: search + sort (three-dots) -->
        <div class="recent-controls">
            <input id="recent-search" class="recent-search" type="search" placeholder="Search recent files…" aria-label="Search recent files">
            <!-- import button positioned above the end of the search field -->
            <button id="project-import" class="button button-secondary import-btn" type="button">Open project file</button>
            <div class="recent-actions">
                <button id="recent-sort-toggle" class="icon-btn" aria-haspopup="true" aria-expanded="false" title="Sort">⋯</button>
                <ul id="recent-sort-menu" class="sort-menu" hidden>
                    <li data-sort="newest" class="sort-item">Newest</li>
                    <li data-sort="oldest" class="sort-item">Oldest</li>
                </ul>
            </div>
        </div>

        <p id="recent-projects-empty" class="empty-state">No recent projects</p>
        <ul id="recent-projects-list" class="recent-projects" aria-live="polite" hidden></ul>

    <input id="project-import-input" type="file" accept=".billproj" hidden>

    <script src="../static/js/main.js" defer></script>
    <script src="../static/js/home.js" defer></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // page intentionally minimal: recent projects are rendered by home.js
        });
    </script>
</body>
</html>
